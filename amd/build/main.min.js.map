{"version":3,"file":"main.min.js","sources":["../src/main.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * A javascript module to handle the board.\n *\n * @author     Karen Holland <karen@brickfieldlabs.ie>\n * @copyright  2021 Brickfield Education Labs <https://www.brickfield.ie/>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport Board from \"mod_board/board\";\nimport Ajax from 'core/ajax';\nimport Notification from 'core/notification';\n\n/**\n * Fetch the board configuration.\n *\n * @param {number} boardid the board id\n * @param {number} ownerid the owner id\n * @returns {Promise} config\n */\nconst fetchBoardConfiguration = (boardid, ownerid) => {\n    return Ajax.call([\n        {\n            methodname: 'mod_board_get_configuration',\n            args: {\n                id: boardid,\n                ownerid: ownerid\n            },\n            done: (response) => {\n                return response;\n            },\n            fail: Notification.exception\n        }\n    ], false);\n};\n\n/**\n * Initialize the board.\n * @param {number} boardid The board id\n * @param {number} ownerid The owner id\n */\nconst initialize = (boardid, ownerid) => {\n    const promise = fetchBoardConfiguration(boardid, ownerid);\n    promise[0].then((config) => {\n        return new Board(config);\n    }).catch((error) => {\n        Notification.exception(error);\n    });\n};\n\nexport default {\n    initialize: initialize\n};\n"],"names":["initialize","boardid","ownerid","promise","Ajax","call","methodname","args","id","done","response","fail","Notification","exception","fetchBoardConfiguration","then","config","Board","catch","error"],"mappings":";;;;;;;gOAgEe,CACXA,WAVe,CAACC,QAASC,iBACnBC,QAtBsB,EAACF,QAASC,UAC/BE,cAAKC,KAAK,CACb,CACIC,WAAY,8BACZC,KAAM,CACFC,GAAIP,QACJC,QAASA,SAEbO,KAAOC,UACIA,SAEXC,KAAMC,sBAAaC,aAExB,GASaC,CAAwBb,QAASC,SACjDC,QAAQ,GAAGY,MAAMC,QACN,IAAIC,eAAMD,UAClBE,OAAOC,8BACON,UAAUM"}